<!DOCTYPE html>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="interpreter.js"></script>
<script>
var check_list = [];

var CHECK = function (code, succ)
{
	check_list.push([code, succ]);
};

var do_check = function ()
{
	for (var idx = 0; idx < check_list.length; ++idx)
	{
		var code = check_list[idx][0];
		var succ = check_list[idx][1];
		var s = lprint(leval(lread(code), genv));
		document.getElementById("senva-test").insertAdjacentHTML("beforeend"
				, `<li>CHECK: "${code}" -> ${s}</li>`);
		if (succ && s != succ)
		{
			document.getElementById(
					"senva-test").insertAdjacentHTML("beforeend"
						, `<li>Fail CHECK.</li>`);
			break;
		}
	}
};
</script>
<title>SenvaTest</title>
</head>
<body>
<p>TEST</p>
<div><ul id="senva-test"></ul></div>
<script>
CHECK("", "NIL");
CHECK("nil", "NIL");
CHECK("()", "NIL");
do_check();
</script>
</body>
</html>
